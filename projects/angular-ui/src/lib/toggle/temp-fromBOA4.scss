$action: #097d6c;
$custom-switch-width: 2.5rem;
$custom-control-gutter: 0.75rem;
$highlight-dark: #d0f3ee;
$neutral-stroke: #ced4da;
$neutral-primary-reversed: #ffffff;
$neutral-primary-reverse: $neutral-primary-reversed;
$neutral-underground-2: #dee2e6;
$white: $neutral-primary-reversed;
$custom-switch-indicator-bg: $highlight-dark;
$custom-switch-indicator-border-radius: 0.5rem;
$custom-switch-indicator-size: 1.25rem;

$custom-switch-indicator-bg: $highlight-dark;
$custom-switch-indicator-bg-disabled: $neutral-stroke;
$custom-switch-indicator-handle: $white;
$custom-switch-indicator-handle-disabled: $neutral-underground-2;
$custom-switch-indicator-checked-handle: $action;
$shadow-moderate: 0px 2px 8px rgba(0, 0, 0, 0.1);

// switches
//
// Tweak a few things for switches
.custom-switch {
  padding-left: 0;

  .custom-control-label {
    width: 100%;
    padding-right: $custom-switch-width + $custom-control-gutter;
    &::before {
      // Center vertically
      top: calc(50% - (#{0.75rem}/ 2));
      right: 0;
      left: auto;
      width: 2rem;
      height: 0.75rem;
      margin: 0 0.25rem;
      background-color: $custom-switch-indicator-bg;
      border: none;
      border-radius: $custom-switch-indicator-border-radius;
    }

    &::after {
      // Center vertically
      top: calc(50% - (#{$custom-switch-indicator-size}/ 2));
      right: ($custom-switch-width/2);
      left: auto;
      width: $custom-switch-indicator-size;
      height: $custom-switch-indicator-size;
      margin: 0;
      background-color: $custom-switch-indicator-handle;
      border: 1px solid $action;
      border-radius: 50%;
      box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);
      @include transition(
        transform 0.15s ease-in-out,
        $custom-forms-transition
      );
    }
  }

  .custom-control-input:checked ~ .custom-control-label {
    &::before {
      background-color: $custom-switch-indicator-bg;
    }
    &::after {
      background-color: $custom-switch-indicator-checked-handle;
      border-color: $custom-switch-indicator-checked-handle;
    }
  }

  .custom-control-input:disabled {
    ~ .custom-control-label::before {
      cursor: not-allowed;
    }
    // Inactive disabled state
    ~ .custom-control-label::after {
      background-color: $custom-switch-indicator-handle-disabled;
      border-color: $custom-switch-indicator-handle-disabled;
      cursor: not-allowed;
    }
    // Active disabled background
    &:checked ~ .custom-control-label::before {
      cursor: not-allowed;
    }
    // Active disabled handle state
    &:checked ~ .custom-control-label::after {
      background-color: $custom-switch-indicator-handle-disabled;
      border-color: $custom-switch-indicator-handle-disabled;
      cursor: not-allowed;
    }
  }
}
